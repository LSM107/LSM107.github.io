---
layout: single

title:  "CDM: Contact Diffusion Model for Multi-Contact Point Localization"

categories: Paper

tag: [Robotics, Collision]

typora-root-url: ../

toc: true

author_profile: false

sidebar:
    nav: "docs"

# search: false
use_math: true
published: True



---





이 포스팅은 '**CDM: Contact Diffusion Model for Multi-Contact Point Localization**'에 대한 내용을 담고 있습니다.



자료 출처: <https://arxiv.org/pdf/2502.06109>









# CDM: Contact Diffusion Model for Multi-Contact Point Localization

최근 많이 사용되는 협동로봇들은 사람들과 동일한 작업 공간에서 일을 수행하기 때문에, 항상 충돌의 위험을 가지고 있습니다. 때문에 로봇이 환경과의 예상치 못한 충돌을 일으킨다면 그 충돌을 감지할 수 있어야 하고, 로봇의 어느 부분에 충돌이 발생했는지도 빠르게 감지할 수 있어야 합니다. 이런 필요로 인해 로봇의 충돌 위치를 감지하는 **Contact Localization**에 대한 몇 가지 연구들이 있었고, 단일 충돌 상황에 대해 어느정도 정확한 충돌 지점 예측이 가능하긴 했지만, 여러 지점에서 동시에 충돌(**Multi-Contact Localization**)하는 경우의 예측 성능은 많이 낮았습니다. 이 논문에서는 Diffusion Model을 사용하는 **CDM**이라는 새로운 모델로 높은 Mult-Contact Localization 성능을 보여줍니다.







## Introduction

로봇의 충돌을 감지하는 방법론으로는 크게 두 가지가 있습니다. 하나는 학습 기반 방법론이고, 다른 하나는 모델 기반 접근 방법론입니다. **학습 기반 방법론**에서는 문제를 접촉/ 비접촉 카테고리로 분류합니다. 이전 연구들에서는 모델의 접촉 부위를 자세하게 찾아낸다기 보단 다소 간소화해서(base를 0, end-effector를 1로 설정) 접촉 부위를 예측합니다. **모델 기반 접근 방법론**에서는 대개 **Particle Filter**를 사용합니다. Particle을 랜덤으로 흩뿌린 다음, 로봇의 관절 토크 센서가 말하는 값을 가장 잘 설명하는 위치로 점점 수렴하는 방향으로 충돌 지점을 탐색합니다. 

예측 값과 실제 값 사이의 오차는 **QP(Quadratic Programming)**으로 정의되는데요, 충돌 지점 감지 문제에는 항상 **특이점(Singularity)**가 존재합니다. 여기서 말하는 특이점이란, 동일한 토크를 발생시키는 충돌 위치가 2개 이상 존재함을 의미합니다. 즉, QP error가 낮은 지점이 여러개 존재할 수 있는데, Particle Filter를 사용하는 경우에 가능한 여러 해답들 중 하나로 수렴하게 됩니다. 이런 문제를 해결하기 위해 여러 초기 지점을 설정해 다양한 해답 지점을 찾으려는 시도가 있었지만, 이 접근법은 단일 충돌 지점 감지 문제에서만 제한적으로 사용됩니다.

다중 충돌 감지 문제에서는 특이점 문제가 더 많이 발생합니다. Particle Filter를 사용할 때 다중 충돌 감지 문제를 다루기 위해 과거의 관측 정보를 사용하는 방법이 있습니다. 만약 이중 충돌이 연속적으로 발생한다면, 단일 충돌 감지를 연속으로 두 번 해결하는 문제로 환원시킬 수 있습니다. 실제 연구 사례에서는 초기 Particle Set으로 예측을 하다가 일정 임계치 이상으로 오류가 발생하면 추가적인 새로운 Particle Set을 초기화하는 방법론이 있었습니다. 하지만 적절한 임계치가 얼마인지 조절하는 것은 꽤나 어려운 일입니다. 

이 논문에서는 충돌 Singularity 문제를 없애는 것이 아니라 보다 정확하게 예측하기 위한 새로운 방법론을 소개합니다. 특이점이 있다는 것은 확률론적 관점으로는 충돌 지점 분포가 Multi-Modal(볼록한 모양이 여러 개)이라는 건데요, 이 Multi-Modal 분포를 잘 예측하는 것이 이 논문의 목표가 됩니다.







## Preliminaries

CDM 모델을 이해하기 위한 사전 지식을 먼저 소개합니다.





### Contact Induced Sensor Measurements


$$
\mathcal{W}_{ext} = \begin{bmatrix}\tau_{ext} \\ \mathcal{F}_{ext}\end{bmatrix}
= \sum_{i=1}^{n_c}
\underbrace{
\begin{bmatrix}
J_i^T(q, r_i) \\
I_{3 \times 3} \\
skew(r_i) \\
\end{bmatrix}}_{A_i(q, r_i)} 

F_i
$$


**위 식은 로봇이 받는 힘과 각 관절 힘, 토크 및 베이스에 걸리는 힘, 토크 사이의 관계**입니다. 위 식에서의 $\mathcal{W}_{ext}$는 **DOB(Momentum Based Disturbance Observer)**나 **EDOB(Extended DOB)**를 통해 그 예측값을 얻을 수 있습니다. 

> [!NOTE]
>
> 여기서 $\tau_{ext}$는 각 관절에 걸리는 토크를, $\mathcal{F}_{ext}$는 로봇의 베이스에 걸리는 힘과 토크를 의미합니다. 로봇에 부착된 센서를 통해 토크를 측정할 수 있는데요, 이 값을 바로 사용하는 것이 아니라 **DOB**를 사용해 **Disturbance**(외란)이 제거된 값($\hat{\mathcal{W}}_{ext}$)을 추정합니다.







### Optimization-based Contact Point Localization


$$
\mathrm{QP}(\hat{\mathcal{W}}_{ext} \mid r)
= \min_{F}
\left\lVert
\hat{\mathcal{W}}_{ext}
- \sum_{i=1}^{n_c} A_i(q, r_i) F_i
\right\rVert^2
\quad
\text{subject to}
\quad
F_i \in \mathcal{F}_c(r_i), \,\forall i \in \{1, \dots, n_c\}
$$










































